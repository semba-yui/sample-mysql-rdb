{"name":"sample_rdb","tables":[{"name":"m_company","type":"BASE TABLE","comment":"会社マスタ","columns":[{"name":"company_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"会社ID"},{"name":"company_code","type":"varchar(20)","nullable":false,"comment":"会社コード"},{"name":"company_name","type":"varchar(100)","nullable":false,"comment":"会社名"},{"name":"legal_name","type":"varchar(200)","nullable":true,"comment":"登記上名称"},{"name":"parent_company_id","type":"bigint unsigned","nullable":true,"comment":"親会社ID（NULL=持株）"},{"name":"country_code","type":"char(2)","nullable":false,"default":"JP","comment":"国コード (ISO-3166)"},{"name":"postal_code","type":"varchar(12)","nullable":false,"comment":"郵便番号"},{"name":"address_line1","type":"varchar(100)","nullable":false,"comment":"住所1"},{"name":"address_line2","type":"varchar(100)","nullable":true,"comment":"住所2"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"parent_company_id","def":"KEY parent_company_id (parent_company_id) USING BTREE","table":"m_company","columns":["parent_company_id"]},{"name":"PRIMARY","def":"PRIMARY KEY (company_id) USING BTREE","table":"m_company","columns":["company_id"]},{"name":"company_code","def":"UNIQUE KEY company_code (company_code, deleted_at) USING BTREE","table":"m_company","columns":["company_code","deleted_at"]}],"constraints":[{"name":"company_code","type":"UNIQUE","def":"UNIQUE KEY company_code (company_code, deleted_at)","table":"m_company","columns":["company_code","deleted_at"]},{"name":"m_company_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (parent_company_id) REFERENCES m_company (company_id)","table":"m_company","referenced_table":"m_company","columns":["parent_company_id"],"referenced_columns":["company_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (company_id)","table":"m_company","columns":["company_id"]}],"def":"CREATE TABLE `m_company` (\n  `company_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '会社ID',\n  `company_code` varchar(20) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '会社コード',\n  `company_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '会社名',\n  `legal_name` varchar(200) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '登記上名称',\n  `parent_company_id` bigint unsigned DEFAULT NULL COMMENT '親会社ID（NULL=持株）',\n  `country_code` char(2) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'JP' COMMENT '国コード (ISO-3166)',\n  `postal_code` varchar(12) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '郵便番号',\n  `address_line1` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '住所1',\n  `address_line2` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '住所2',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`company_id`),\n  UNIQUE KEY `company_code` (`company_code`,`deleted_at`),\n  KEY `parent_company_id` (`parent_company_id`),\n  CONSTRAINT `m_company_ibfk_1` FOREIGN KEY (`parent_company_id`) REFERENCES `m_company` (`company_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='会社マスタ'"},{"name":"m_employee","type":"BASE TABLE","comment":"従業員マスタ","columns":[{"name":"emp_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"従業員ID"},{"name":"company_id","type":"bigint unsigned","nullable":false,"comment":"会社ID"},{"name":"org_id","type":"bigint unsigned","nullable":false,"comment":"所属組織ID"},{"name":"position_id","type":"bigint unsigned","nullable":true,"comment":"役職ID"},{"name":"emp_code","type":"varchar(20)","nullable":false,"comment":"社員番号"},{"name":"azure_ad_object_id","type":"char(36)","nullable":true,"comment":"Azure AD Object ID"},{"name":"last_name","type":"varchar(50)","nullable":false,"comment":"姓"},{"name":"first_name","type":"varchar(50)","nullable":false,"comment":"名"},{"name":"last_name_kana","type":"varchar(50)","nullable":true,"comment":"姓（カナ）"},{"name":"first_name_kana","type":"varchar(50)","nullable":true,"comment":"名（カナ）"},{"name":"employment_type","type":"enum('REGULAR','CONTRACT','PARTTIME','TEMP','DISPATCH')","nullable":false,"default":"REGULAR","comment":"雇用区分"},{"name":"status","type":"enum('ACTIVE','LEAVE','INACTIVE','RETIRED')","nullable":false,"default":"ACTIVE","comment":"在籍ステータス"},{"name":"email","type":"varchar(150)","nullable":false,"comment":"社用メールアドレス"},{"name":"phone_number","type":"varchar(20)","nullable":true,"comment":"連絡先電話番号"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"org_id","def":"KEY org_id (org_id) USING BTREE","table":"m_employee","columns":["org_id"]},{"name":"position_id","def":"KEY position_id (position_id) USING BTREE","table":"m_employee","columns":["position_id"]},{"name":"PRIMARY","def":"PRIMARY KEY (emp_id) USING BTREE","table":"m_employee","columns":["emp_id"]},{"name":"company_id","def":"UNIQUE KEY company_id (company_id, emp_code, deleted_at) USING BTREE","table":"m_employee","columns":["company_id","emp_code","deleted_at"]}],"constraints":[{"name":"company_id","type":"UNIQUE","def":"UNIQUE KEY company_id (company_id, emp_code, deleted_at)","table":"m_employee","columns":["company_id","emp_code","deleted_at"]},{"name":"m_employee_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)","table":"m_employee","referenced_table":"m_company","columns":["company_id"],"referenced_columns":["company_id"]},{"name":"m_employee_ibfk_2","type":"FOREIGN KEY","def":"FOREIGN KEY (org_id) REFERENCES m_organization (org_id)","table":"m_employee","referenced_table":"m_organization","columns":["org_id"],"referenced_columns":["org_id"]},{"name":"m_employee_ibfk_3","type":"FOREIGN KEY","def":"FOREIGN KEY (position_id) REFERENCES m_position (position_id)","table":"m_employee","referenced_table":"m_position","columns":["position_id"],"referenced_columns":["position_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (emp_id)","table":"m_employee","columns":["emp_id"]}],"def":"CREATE TABLE `m_employee` (\n  `emp_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '従業員ID',\n  `company_id` bigint unsigned NOT NULL COMMENT '会社ID',\n  `org_id` bigint unsigned NOT NULL COMMENT '所属組織ID',\n  `position_id` bigint unsigned DEFAULT NULL COMMENT '役職ID',\n  `emp_code` varchar(20) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '社員番号',\n  `azure_ad_object_id` char(36) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT 'Azure AD Object ID',\n  `last_name` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '姓',\n  `first_name` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '名',\n  `last_name_kana` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '姓（カナ）',\n  `first_name_kana` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '名（カナ）',\n  `employment_type` enum('REGULAR','CONTRACT','PARTTIME','TEMP','DISPATCH') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'REGULAR' COMMENT '雇用区分',\n  `status` enum('ACTIVE','LEAVE','INACTIVE','RETIRED') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'ACTIVE' COMMENT '在籍ステータス',\n  `email` varchar(150) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '社用メールアドレス',\n  `phone_number` varchar(20) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '連絡先電話番号',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`emp_id`),\n  UNIQUE KEY `company_id` (`company_id`,`emp_code`,`deleted_at`),\n  KEY `org_id` (`org_id`),\n  KEY `position_id` (`position_id`),\n  CONSTRAINT `m_employee_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `m_company` (`company_id`),\n  CONSTRAINT `m_employee_ibfk_2` FOREIGN KEY (`org_id`) REFERENCES `m_organization` (`org_id`),\n  CONSTRAINT `m_employee_ibfk_3` FOREIGN KEY (`position_id`) REFERENCES `m_position` (`position_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='従業員マスタ'"},{"name":"m_employee_account","type":"BASE TABLE","comment":"従業員振込口座マスタ","columns":[{"name":"account_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"口座ID"},{"name":"emp_id","type":"bigint unsigned","nullable":false,"comment":"従業員ID"},{"name":"bank_code","type":"char(4)","nullable":false,"comment":"銀行コード"},{"name":"branch_code","type":"char(3)","nullable":false,"comment":"支店コード"},{"name":"account_type","type":"enum('FUTSU','TOUZA','SAVINGS','OTHER')","nullable":false,"default":"FUTSU","comment":"口座種別"},{"name":"account_no","type":"char(7)","nullable":false,"comment":"口座番号 (7桁)"},{"name":"account_name","type":"varchar(100)","nullable":false,"comment":"口座名義 (カナ推奨)"},{"name":"currency_code","type":"char(3)","nullable":false,"default":"JPY","comment":"通貨 (ISO 4217)"},{"name":"purpose","type":"enum('EXPENSE','PAYROLL','BONUS','OTHER')","nullable":false,"default":"EXPENSE","comment":"用途区分"},{"name":"priority","type":"tinyint unsigned","nullable":false,"default":"1","comment":"同一用途内での優先順位 (1=最優先)"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"bank_code","def":"KEY bank_code (bank_code, branch_code) USING BTREE","table":"m_employee_account","columns":["bank_code","branch_code"]},{"name":"emp_id_2","def":"KEY emp_id_2 (emp_id, purpose, priority) USING BTREE","table":"m_employee_account","columns":["emp_id","purpose","priority"]},{"name":"PRIMARY","def":"PRIMARY KEY (account_id) USING BTREE","table":"m_employee_account","columns":["account_id"]},{"name":"emp_id","def":"UNIQUE KEY emp_id (emp_id, purpose, priority, deleted_at) USING BTREE","table":"m_employee_account","columns":["emp_id","purpose","priority","deleted_at"]}],"constraints":[{"name":"emp_id","type":"UNIQUE","def":"UNIQUE KEY emp_id (emp_id, purpose, priority, deleted_at)","table":"m_employee_account","columns":["emp_id","purpose","priority","deleted_at"]},{"name":"m_employee_account_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)","table":"m_employee_account","referenced_table":"m_employee","columns":["emp_id"],"referenced_columns":["emp_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (account_id)","table":"m_employee_account","columns":["account_id"]}],"def":"CREATE TABLE `m_employee_account` (\n  `account_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '口座ID',\n  `emp_id` bigint unsigned NOT NULL COMMENT '従業員ID',\n  `bank_code` char(4) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '銀行コード',\n  `branch_code` char(3) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '支店コード',\n  `account_type` enum('FUTSU','TOUZA','SAVINGS','OTHER') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'FUTSU' COMMENT '口座種別',\n  `account_no` char(7) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '口座番号 (7桁)',\n  `account_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '口座名義 (カナ推奨)',\n  `currency_code` char(3) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'JPY' COMMENT '通貨 (ISO 4217)',\n  `purpose` enum('EXPENSE','PAYROLL','BONUS','OTHER') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'EXPENSE' COMMENT '用途区分',\n  `priority` tinyint unsigned NOT NULL DEFAULT '1' COMMENT '同一用途内での優先順位 (1=最優先)',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`account_id`),\n  UNIQUE KEY `emp_id` (`emp_id`,`purpose`,`priority`,`deleted_at`),\n  KEY `emp_id_2` (`emp_id`,`purpose`,`priority`),\n  KEY `bank_code` (`bank_code`,`branch_code`),\n  CONSTRAINT `m_employee_account_ibfk_1` FOREIGN KEY (`emp_id`) REFERENCES `m_employee` (`emp_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='従業員振込口座マスタ'"},{"name":"m_employee_delegate","type":"BASE TABLE","comment":"代理設定マスタ","columns":[{"name":"delegate_seq","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"代理シーケンスPK"},{"name":"emp_id","type":"bigint unsigned","nullable":false,"comment":"本人"},{"name":"delegate_id","type":"bigint unsigned","nullable":false,"comment":"代理人"},{"name":"mode","type":"enum('ALL','LIMITED')","nullable":false,"default":"ALL","comment":"ALL=全権委任, LIMITED=範囲指定"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"delegate_id","def":"KEY delegate_id (delegate_id) USING BTREE","table":"m_employee_delegate","columns":["delegate_id"]},{"name":"PRIMARY","def":"PRIMARY KEY (delegate_seq) USING BTREE","table":"m_employee_delegate","columns":["delegate_seq"]},{"name":"emp_id","def":"UNIQUE KEY emp_id (emp_id, delegate_id, valid_from) USING BTREE","table":"m_employee_delegate","columns":["emp_id","delegate_id","valid_from"]}],"constraints":[{"name":"emp_id","type":"UNIQUE","def":"UNIQUE KEY emp_id (emp_id, delegate_id, valid_from)","table":"m_employee_delegate","columns":["emp_id","delegate_id","valid_from"]},{"name":"m_employee_delegate_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)","table":"m_employee_delegate","referenced_table":"m_employee","columns":["emp_id"],"referenced_columns":["emp_id"]},{"name":"m_employee_delegate_ibfk_2","type":"FOREIGN KEY","def":"FOREIGN KEY (delegate_id) REFERENCES m_employee (emp_id)","table":"m_employee_delegate","referenced_table":"m_employee","columns":["delegate_id"],"referenced_columns":["emp_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (delegate_seq)","table":"m_employee_delegate","columns":["delegate_seq"]}],"def":"CREATE TABLE `m_employee_delegate` (\n  `delegate_seq` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '代理シーケンスPK',\n  `emp_id` bigint unsigned NOT NULL COMMENT '本人',\n  `delegate_id` bigint unsigned NOT NULL COMMENT '代理人',\n  `mode` enum('ALL','LIMITED') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'ALL' COMMENT 'ALL=全権委任, LIMITED=範囲指定',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`delegate_seq`),\n  UNIQUE KEY `emp_id` (`emp_id`,`delegate_id`,`valid_from`),\n  KEY `delegate_id` (`delegate_id`),\n  CONSTRAINT `m_employee_delegate_ibfk_1` FOREIGN KEY (`emp_id`) REFERENCES `m_employee` (`emp_id`),\n  CONSTRAINT `m_employee_delegate_ibfk_2` FOREIGN KEY (`delegate_id`) REFERENCES `m_employee` (`emp_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='代理設定マスタ'"},{"name":"m_employee_delegate_scope","type":"BASE TABLE","comment":"代理範囲マスタ","columns":[{"name":"scope_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"代理範囲ID"},{"name":"delegate_seq","type":"bigint unsigned","nullable":false,"comment":"代理設定ID"},{"name":"wf_key","type":"varchar(64)","nullable":true,"comment":"対象WFキー(NULL=全)"},{"name":"wf_step_no","type":"smallint","nullable":true,"comment":"ステップ番号(NULL=全)"},{"name":"perm_code","type":"varchar(50)","nullable":true,"comment":"追加パーミッション(NULL=無指定)"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (scope_id) USING BTREE","table":"m_employee_delegate_scope","columns":["scope_id"]},{"name":"uq_scope_unique","def":"UNIQUE KEY uq_scope_unique (delegate_seq, wf_key, wf_step_no, perm_code) USING BTREE","table":"m_employee_delegate_scope","columns":["delegate_seq","wf_key","wf_step_no","perm_code"]}],"constraints":[{"name":"fk_scope_parent","type":"FOREIGN KEY","def":"FOREIGN KEY (delegate_seq) REFERENCES m_employee_delegate (delegate_seq)","table":"m_employee_delegate_scope","referenced_table":"m_employee_delegate","columns":["delegate_seq"],"referenced_columns":["delegate_seq"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (scope_id)","table":"m_employee_delegate_scope","columns":["scope_id"]},{"name":"uq_scope_unique","type":"UNIQUE","def":"UNIQUE KEY uq_scope_unique (delegate_seq, wf_key, wf_step_no, perm_code)","table":"m_employee_delegate_scope","columns":["delegate_seq","wf_key","wf_step_no","perm_code"]}],"def":"CREATE TABLE `m_employee_delegate_scope` (\n  `scope_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '代理範囲ID',\n  `delegate_seq` bigint unsigned NOT NULL COMMENT '代理設定ID',\n  `wf_key` varchar(64) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '対象WFキー(NULL=全)',\n  `wf_step_no` smallint DEFAULT NULL COMMENT 'ステップ番号(NULL=全)',\n  `perm_code` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '追加パーミッション(NULL=無指定)',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`scope_id`),\n  UNIQUE KEY `uq_scope_unique` (`delegate_seq`,`wf_key`,`wf_step_no`,`perm_code`),\n  CONSTRAINT `fk_scope_parent` FOREIGN KEY (`delegate_seq`) REFERENCES `m_employee_delegate` (`delegate_seq`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='代理範囲マスタ'"},{"name":"m_employee_preference","type":"BASE TABLE","comment":"従業員個人設定マスタ","columns":[{"name":"emp_id","type":"bigint unsigned","nullable":false,"comment":"従業員ID"},{"name":"locale","type":"char(5)","nullable":false,"default":"ja-JP","comment":"言語・ロケール"},{"name":"timezone","type":"varchar(50)","nullable":false,"default":"Asia/Tokyo","comment":"タイムゾーン"},{"name":"theme","type":"enum('LIGHT','DARK')","nullable":false,"default":"LIGHT","comment":"UI テーマ"},{"name":"date_format","type":"enum('YYYY/MM/DD','DD/MM/YYYY','MM/DD/YYYY')","nullable":false,"default":"YYYY/MM/DD","comment":"日付フォーマット"},{"name":"notify_type","type":"enum('EMAIL','SLACK','NONE')","nullable":false,"default":"EMAIL","comment":"通知方法"},{"name":"default_cost_center","type":"varchar(20)","nullable":true,"comment":"デフォルト原価センタ"},{"name":"default_cc_email","type":"varchar(150)","nullable":true,"comment":"申請時の CC メール"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"locale","def":"KEY locale (locale) USING BTREE","table":"m_employee_preference","columns":["locale"]},{"name":"PRIMARY","def":"PRIMARY KEY (emp_id) USING BTREE","table":"m_employee_preference","columns":["emp_id"]}],"constraints":[{"name":"m_employee_preference_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)","table":"m_employee_preference","referenced_table":"m_employee","columns":["emp_id"],"referenced_columns":["emp_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (emp_id)","table":"m_employee_preference","columns":["emp_id"]}],"def":"CREATE TABLE `m_employee_preference` (\n  `emp_id` bigint unsigned NOT NULL COMMENT '従業員ID',\n  `locale` char(5) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'ja-JP' COMMENT '言語・ロケール',\n  `timezone` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'Asia/Tokyo' COMMENT 'タイムゾーン',\n  `theme` enum('LIGHT','DARK') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'LIGHT' COMMENT 'UI テーマ',\n  `date_format` enum('YYYY/MM/DD','DD/MM/YYYY','MM/DD/YYYY') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'YYYY/MM/DD' COMMENT '日付フォーマット',\n  `notify_type` enum('EMAIL','SLACK','NONE') COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL DEFAULT 'EMAIL' COMMENT '通知方法',\n  `default_cost_center` varchar(20) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT 'デフォルト原価センタ',\n  `default_cc_email` varchar(150) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '申請時の CC メール',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`emp_id`),\n  KEY `locale` (`locale`),\n  CONSTRAINT `m_employee_preference_ibfk_1` FOREIGN KEY (`emp_id`) REFERENCES `m_employee` (`emp_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='従業員個人設定マスタ'"},{"name":"m_organization","type":"BASE TABLE","comment":"組織マスタ","columns":[{"name":"org_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"組織ID"},{"name":"company_id","type":"bigint unsigned","nullable":false,"comment":"会社ID"},{"name":"parent_org_id","type":"bigint unsigned","nullable":true,"comment":"上位組織ID"},{"name":"org_code","type":"varchar(20)","nullable":false,"comment":"組織コード"},{"name":"org_name","type":"varchar(100)","nullable":false,"comment":"組織名称"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"company_id","def":"KEY company_id (company_id) USING BTREE","table":"m_organization","columns":["company_id"]},{"name":"parent_org_id","def":"KEY parent_org_id (parent_org_id) USING BTREE","table":"m_organization","columns":["parent_org_id"]},{"name":"PRIMARY","def":"PRIMARY KEY (org_id) USING BTREE","table":"m_organization","columns":["org_id"]}],"constraints":[{"name":"m_organization_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)","table":"m_organization","referenced_table":"m_company","columns":["company_id"],"referenced_columns":["company_id"]},{"name":"m_organization_ibfk_2","type":"FOREIGN KEY","def":"FOREIGN KEY (parent_org_id) REFERENCES m_organization (org_id)","table":"m_organization","referenced_table":"m_organization","columns":["parent_org_id"],"referenced_columns":["org_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (org_id)","table":"m_organization","columns":["org_id"]}],"def":"CREATE TABLE `m_organization` (\n  `org_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '組織ID',\n  `company_id` bigint unsigned NOT NULL COMMENT '会社ID',\n  `parent_org_id` bigint unsigned DEFAULT NULL COMMENT '上位組織ID',\n  `org_code` varchar(20) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '組織コード',\n  `org_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '組織名称',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`org_id`),\n  KEY `company_id` (`company_id`),\n  KEY `parent_org_id` (`parent_org_id`),\n  CONSTRAINT `m_organization_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `m_company` (`company_id`),\n  CONSTRAINT `m_organization_ibfk_2` FOREIGN KEY (`parent_org_id`) REFERENCES `m_organization` (`org_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='組織マスタ'"},{"name":"m_permission","type":"BASE TABLE","comment":"パーミッションマスタ","columns":[{"name":"perm_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"パーミッションID"},{"name":"company_id","type":"bigint unsigned","nullable":true,"comment":"会社ID (NULL = 全社共通)"},{"name":"perm_code","type":"varchar(50)","nullable":false,"comment":"権限コード"},{"name":"perm_name","type":"varchar(100)","nullable":false,"comment":"権限名称"},{"name":"perm_desc","type":"varchar(255)","nullable":true,"comment":"説明"},{"name":"perm_group","type":"varchar(50)","nullable":true,"comment":"機能グループ"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"perm_group","def":"KEY perm_group (perm_group) USING BTREE","table":"m_permission","columns":["perm_group"]},{"name":"PRIMARY","def":"PRIMARY KEY (perm_id) USING BTREE","table":"m_permission","columns":["perm_id"]},{"name":"company_id","def":"UNIQUE KEY company_id (company_id, perm_code, deleted_at) USING BTREE","table":"m_permission","columns":["company_id","perm_code","deleted_at"]}],"constraints":[{"name":"company_id","type":"UNIQUE","def":"UNIQUE KEY company_id (company_id, perm_code, deleted_at)","table":"m_permission","columns":["company_id","perm_code","deleted_at"]},{"name":"m_permission_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)","table":"m_permission","referenced_table":"m_company","columns":["company_id"],"referenced_columns":["company_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (perm_id)","table":"m_permission","columns":["perm_id"]}],"def":"CREATE TABLE `m_permission` (\n  `perm_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'パーミッションID',\n  `company_id` bigint unsigned DEFAULT NULL COMMENT '会社ID (NULL = 全社共通)',\n  `perm_code` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '権限コード',\n  `perm_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '権限名称',\n  `perm_desc` varchar(255) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '説明',\n  `perm_group` varchar(50) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT '機能グループ',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`perm_id`),\n  UNIQUE KEY `company_id` (`company_id`,`perm_code`,`deleted_at`),\n  KEY `perm_group` (`perm_group`),\n  CONSTRAINT `m_permission_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `m_company` (`company_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='パーミッションマスタ'"},{"name":"m_position","type":"BASE TABLE","comment":"役職マスタ","columns":[{"name":"position_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"役職ID"},{"name":"parent_position_id","type":"bigint unsigned","nullable":true,"comment":"上位役職ID"},{"name":"company_id","type":"bigint unsigned","nullable":false,"comment":"会社ID"},{"name":"position_name","type":"varchar(100)","nullable":false,"comment":"役職名称"},{"name":"grade_level","type":"smallint","nullable":false,"comment":"等級・序列（数値が小さいほど上位）"},{"name":"is_managerial","type":"tinyint(1)","nullable":false,"default":"0","comment":"管理職フラグ"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"company_id_2","def":"KEY company_id_2 (company_id, grade_level) USING BTREE","table":"m_position","columns":["company_id","grade_level"]},{"name":"fk_position_parent","def":"KEY fk_position_parent (parent_position_id) USING BTREE","table":"m_position","columns":["parent_position_id"]},{"name":"PRIMARY","def":"PRIMARY KEY (position_id) USING BTREE","table":"m_position","columns":["position_id"]},{"name":"company_id","def":"UNIQUE KEY company_id (company_id, position_name, deleted_at) USING BTREE","table":"m_position","columns":["company_id","position_name","deleted_at"]}],"constraints":[{"name":"company_id","type":"UNIQUE","def":"UNIQUE KEY company_id (company_id, position_name, deleted_at)","table":"m_position","columns":["company_id","position_name","deleted_at"]},{"name":"fk_position_parent","type":"FOREIGN KEY","def":"FOREIGN KEY (parent_position_id) REFERENCES m_position (position_id)","table":"m_position","referenced_table":"m_position","columns":["parent_position_id"],"referenced_columns":["position_id"]},{"name":"m_position_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)","table":"m_position","referenced_table":"m_company","columns":["company_id"],"referenced_columns":["company_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (position_id)","table":"m_position","columns":["position_id"]}],"def":"CREATE TABLE `m_position` (\n  `position_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '役職ID',\n  `parent_position_id` bigint unsigned DEFAULT NULL COMMENT '上位役職ID',\n  `company_id` bigint unsigned NOT NULL COMMENT '会社ID',\n  `position_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT '役職名称',\n  `grade_level` smallint NOT NULL COMMENT '等級・序列（数値が小さいほど上位）',\n  `is_managerial` tinyint(1) NOT NULL DEFAULT '0' COMMENT '管理職フラグ',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`position_id`),\n  UNIQUE KEY `company_id` (`company_id`,`position_name`,`deleted_at`),\n  KEY `company_id_2` (`company_id`,`grade_level`),\n  KEY `fk_position_parent` (`parent_position_id`),\n  CONSTRAINT `fk_position_parent` FOREIGN KEY (`parent_position_id`) REFERENCES `m_position` (`position_id`),\n  CONSTRAINT `m_position_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `m_company` (`company_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='役職マスタ'"},{"name":"m_role","type":"BASE TABLE","comment":"ロールマスタ","columns":[{"name":"role_id","type":"bigint unsigned","nullable":false,"extra_def":"auto_increment","comment":"ロールID（PK）"},{"name":"company_id","type":"bigint unsigned","nullable":true,"comment":"会社ID (NULL = 全社共通)"},{"name":"role_code","type":"varchar(30)","nullable":false,"comment":"ロールコード"},{"name":"role_name","type":"varchar(100)","nullable":false,"comment":"ロール名称"},{"name":"role_desc","type":"varchar(255)","nullable":true,"comment":"ロール説明"},{"name":"is_system_role","type":"tinyint(1)","nullable":false,"default":"0","comment":"システムロール (1=システム)"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"有効開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"有効終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"},{"name":"version","type":"int unsigned","nullable":false,"default":"1","comment":"バージョン"}],"indexes":[{"name":"is_system_role","def":"KEY is_system_role (is_system_role) USING BTREE","table":"m_role","columns":["is_system_role"]},{"name":"PRIMARY","def":"PRIMARY KEY (role_id) USING BTREE","table":"m_role","columns":["role_id"]},{"name":"company_id","def":"UNIQUE KEY company_id (company_id, role_code, deleted_at) USING BTREE","table":"m_role","columns":["company_id","role_code","deleted_at"]}],"constraints":[{"name":"company_id","type":"UNIQUE","def":"UNIQUE KEY company_id (company_id, role_code, deleted_at)","table":"m_role","columns":["company_id","role_code","deleted_at"]},{"name":"m_role_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)","table":"m_role","referenced_table":"m_company","columns":["company_id"],"referenced_columns":["company_id"]},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (role_id)","table":"m_role","columns":["role_id"]}],"def":"CREATE TABLE `m_role` (\n  `role_id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT 'ロールID（PK）',\n  `company_id` bigint unsigned DEFAULT NULL COMMENT '会社ID (NULL = 全社共通)',\n  `role_code` varchar(30) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT 'ロールコード',\n  `role_name` varchar(100) COLLATE utf8mb4_ja_0900_as_cs_ks NOT NULL COMMENT 'ロール名称',\n  `role_desc` varchar(255) COLLATE utf8mb4_ja_0900_as_cs_ks DEFAULT NULL COMMENT 'ロール説明',\n  `is_system_role` tinyint(1) NOT NULL DEFAULT '0' COMMENT 'システムロール (1=システム)',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '有効開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '有効終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  `version` int unsigned NOT NULL DEFAULT '1' COMMENT 'バージョン',\n  PRIMARY KEY (`role_id`),\n  UNIQUE KEY `company_id` (`company_id`,`role_code`,`deleted_at`),\n  KEY `is_system_role` (`is_system_role`),\n  CONSTRAINT `m_role_ibfk_1` FOREIGN KEY (`company_id`) REFERENCES `m_company` (`company_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='ロールマスタ'"},{"name":"m_role_permission","type":"BASE TABLE","comment":"ロールパーミッションマスタ","columns":[{"name":"role_id","type":"bigint unsigned","nullable":false,"comment":"ロールID"},{"name":"perm_id","type":"bigint unsigned","nullable":false,"comment":"パーミッションID"},{"name":"valid_from","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"付与開始日時"},{"name":"valid_to","type":"datetime","nullable":false,"default":"9999-12-31 23:59:59","comment":"付与終了日時"},{"name":"deleted_at","type":"datetime","nullable":true,"comment":"論理削除日時"},{"name":"created_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":"登録日時"},{"name":"updated_at","type":"datetime","nullable":false,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED on update CURRENT_TIMESTAMP","comment":"更新日時"}],"indexes":[{"name":"perm_id","def":"KEY perm_id (perm_id) USING BTREE","table":"m_role_permission","columns":["perm_id"]},{"name":"role_id_2","def":"KEY role_id_2 (role_id, valid_from, valid_to) USING BTREE","table":"m_role_permission","columns":["role_id","valid_from","valid_to"]},{"name":"role_id","def":"UNIQUE KEY role_id (role_id, perm_id, deleted_at) USING BTREE","table":"m_role_permission","columns":["role_id","perm_id","deleted_at"]}],"constraints":[{"name":"m_role_permission_ibfk_1","type":"FOREIGN KEY","def":"FOREIGN KEY (role_id) REFERENCES m_role (role_id)","table":"m_role_permission","referenced_table":"m_role","columns":["role_id"],"referenced_columns":["role_id"]},{"name":"m_role_permission_ibfk_2","type":"FOREIGN KEY","def":"FOREIGN KEY (perm_id) REFERENCES m_permission (perm_id)","table":"m_role_permission","referenced_table":"m_permission","columns":["perm_id"],"referenced_columns":["perm_id"]},{"name":"role_id","type":"UNIQUE","def":"UNIQUE KEY role_id (role_id, perm_id, deleted_at)","table":"m_role_permission","columns":["role_id","perm_id","deleted_at"]}],"def":"CREATE TABLE `m_role_permission` (\n  `role_id` bigint unsigned NOT NULL COMMENT 'ロールID',\n  `perm_id` bigint unsigned NOT NULL COMMENT 'パーミッションID',\n  `valid_from` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '付与開始日時',\n  `valid_to` datetime NOT NULL DEFAULT '9999-12-31 23:59:59' COMMENT '付与終了日時',\n  `deleted_at` datetime DEFAULT NULL COMMENT '論理削除日時',\n  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '登録日時',\n  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n  UNIQUE KEY `role_id` (`role_id`,`perm_id`,`deleted_at`),\n  KEY `role_id_2` (`role_id`,`valid_from`,`valid_to`),\n  KEY `perm_id` (`perm_id`),\n  CONSTRAINT `m_role_permission_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `m_role` (`role_id`),\n  CONSTRAINT `m_role_permission_ibfk_2` FOREIGN KEY (`perm_id`) REFERENCES `m_permission` (`perm_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs_ks COMMENT='ロールパーミッションマスタ'"}],"relations":[{"table":"m_company","columns":["parent_company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (parent_company_id) REFERENCES m_company (company_id)"},{"table":"m_employee","columns":["company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)"},{"table":"m_employee","columns":["org_id"],"cardinality":"zero_or_more","parent_table":"m_organization","parent_columns":["org_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (org_id) REFERENCES m_organization (org_id)"},{"table":"m_employee","columns":["position_id"],"cardinality":"zero_or_more","parent_table":"m_position","parent_columns":["position_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (position_id) REFERENCES m_position (position_id)"},{"table":"m_employee_account","columns":["emp_id"],"cardinality":"zero_or_more","parent_table":"m_employee","parent_columns":["emp_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)"},{"table":"m_employee_delegate","columns":["emp_id"],"cardinality":"zero_or_more","parent_table":"m_employee","parent_columns":["emp_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)"},{"table":"m_employee_delegate","columns":["delegate_id"],"cardinality":"zero_or_more","parent_table":"m_employee","parent_columns":["emp_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (delegate_id) REFERENCES m_employee (emp_id)"},{"table":"m_employee_delegate_scope","columns":["delegate_seq"],"cardinality":"zero_or_more","parent_table":"m_employee_delegate","parent_columns":["delegate_seq"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (delegate_seq) REFERENCES m_employee_delegate (delegate_seq)"},{"table":"m_employee_preference","columns":["emp_id"],"cardinality":"zero_or_one","parent_table":"m_employee","parent_columns":["emp_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (emp_id) REFERENCES m_employee (emp_id)"},{"table":"m_organization","columns":["company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)"},{"table":"m_organization","columns":["parent_org_id"],"cardinality":"zero_or_more","parent_table":"m_organization","parent_columns":["org_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (parent_org_id) REFERENCES m_organization (org_id)"},{"table":"m_permission","columns":["company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)"},{"table":"m_position","columns":["parent_position_id"],"cardinality":"zero_or_more","parent_table":"m_position","parent_columns":["position_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (parent_position_id) REFERENCES m_position (position_id)"},{"table":"m_position","columns":["company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)"},{"table":"m_role","columns":["company_id"],"cardinality":"zero_or_more","parent_table":"m_company","parent_columns":["company_id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (company_id) REFERENCES m_company (company_id)"},{"table":"m_role_permission","columns":["role_id"],"cardinality":"zero_or_more","parent_table":"m_role","parent_columns":["role_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (role_id) REFERENCES m_role (role_id)"},{"table":"m_role_permission","columns":["perm_id"],"cardinality":"zero_or_more","parent_table":"m_permission","parent_columns":["perm_id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (perm_id) REFERENCES m_permission (perm_id)"}],"driver":{"name":"mysql","database_version":"8.0.41","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
